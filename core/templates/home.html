<!-- dashboard.html -->
{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}

{% load static %}
 <section class="relative">
    <img src="{% static 'images/home.jpg' %}" class="w-full h-[500px] object-cover opacity-90">
    <div class="absolute inset-0 bg-black/40"></div>

    <div class="absolute inset-0 flex flex-col justify-center items-center text-center text-white px-4">
      <h1 class="text-4xl md:text-6xl font-bold mb-4">Manage Your Events Seamlessly</h1>
      <p class="text-lg md:text-xl max-w-2xl">
        Create, manage, and collaborate on your events with ease.
      </p>

      <a href="#events" class="mt-6 bg-orange-600 px-6 py-3 rounded-lg text-white text-lg hover:bg-orange-700">
        Explore Events
      </a>
    </div>
  </section>

  <!-- Upcoming Events -->
  <section id="events" class="container mx-auto px-4 py-16">
    <h2 class="text-3xl font-bold text-gray-800 mb-10 text-center">Upcoming Events</h2>

    <div class="grid md:grid-cols-3 gap-8">

      {% for up_event in up_events %}
      <!-- Event Card -->
      <div class="bg-white rounded-xl shadow hover:shadow-lg transition">
        <img src="{{up_event.asset.url}}" class="rounded-t-xl w-full" />
        <div class="p-5">
          <h3 class="text-xl font-semibold">{{up_event.name}}</h3>
          <p class="text-gray-600 mt-2">Date: {{up_event.date}}</p>
          <form action="{% url 'details' up_event.id %}" method="get">
          <button class="mt-4 bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700">
            View Details
          </button>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- About Section -->
  <section class="bg-white py-16">
    <div class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-10">
      
      <img src="{% static 'images/about.jpg' %}" class="rounded-xl shadow w-full md:w-1/2" />

      <div class="md:w-1/2">
        <h2 class="text-3xl font-bold mb-4">Why Choose EventMaster?</h2>
        <p class="text-gray-600 leading-relaxed">
          EventMaster helps you organize events efficiently with tools designed for simplicity.
          Whether you're managing a corporate meetup or a music festival, our platform makes planning effortless.
        </p>

        <ul class="mt-5 space-y-2 text-gray-700">
          <li>✔ Easy Event Creation</li>
          <li>✔ Participant Management</li>
          <li>✔ File & Media Upload</li>
          <li>✔ Real-time Notifications</li>
        </ul>
      </div>
    </div>
  </section>


    {% comment %} Messages Pop-Up Model {% endcomment %}
      {% if messages %}
    <div id="successModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
        <div class="bg-white rounded-lg shadow-lg p-6 w-80 text-center">
            <h2 class="text-xl font-semibold text-green-600 mb-3 flex">Success <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 mt-1">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z" />
    </svg>
    </h2>

            {% for message in messages %}
                <p class="text-gray-700 mb-4">{{ message }}</p>
            {% endfor %}

            <button id="closeModal"
                class="mt-2 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">
                Close
            </button>
        </div>
    </div>

<script>
    // close button
    document.getElementById("closeModal").onclick = function () {
        document.getElementById("successModal").style.display = "none";
    };

    // click outside to close
    window.onclick = function(e){
        const modal = document.getElementById("successModal");
        if(e.target === modal){
            modal.style.display = "none";
        }
    };
</script>
{% endif %}

{% endblock %}
