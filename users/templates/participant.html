{% extends 'base.html' %}
{% block title %}Participants{% endblock %}
{% block content %}

{% load static %}

<!-- Category -->
    <div class="max-w-7xl mx-auto grid grid-cols-12 h-32">
      <div class="col-span-12 lg:col-span-7 flex items-center px-4">
        <p class="text-3xl text-500">Participants | Event</p>
      </div>
    </div>

  <!-- Main Container -->
  <div class="max-w-7xl mx-auto grid grid-cols-12 gap-6 pt-4">

    <!-- Left Section (8 columns) -->
    <div class="col-span-12 lg:col-span-8">

      <!-- Events List -->
      <div class="bg-gray-300 p-4 rounded-xl space-y-4">
        <h2 class="text-2xl font-bold mb-2">Participants List</h2>

        <div class="bg-gray-200 p-3 rounded-lg grid grid-cols-12 gap-4">
            <div class="col-span-12 lg:col-span-5 font-semibold">
                Participants Name
            </div>
            <div class="col-span-12 lg:col-span-7 gap-2 mt-2 space-y-2 font-semibold">
              Participants Email
            </div>
          </div>

        {% for participant in participants %}
          <div class="bg-gray-200 p-3 rounded-lg grid grid-cols-12 gap-4">
            <div class="col-span-12 lg:col-span-5">
                {{ participant.name }}
            </div>
            <div class="col-span-12 lg:col-span-7 gap-2 mt-2 space-y-2">
            {{ participant.email }}
            </div>
          </div>
        {% endfor %}
      </div>

    </div>

    <!-- Right Section (4 columns) -->
    <div class="col-span-12 lg:col-span-4 space-y-4">

      <div class="p-4 rounded-lg text-center bg-gray-300 p-4 rounded-xl space-y-4">
        <div class="bg-gray-300 p-4 rounded-xl space-y-4">
            <h1 class="text-2xl font-bold mb-4">Create Participants</h1>

            <form method="POST">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="mt-4 px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700">
                Save
                </button>
            </form>
        </div>
      </div>

    </div>

  </div>

{% comment %} Messages Pop-Up Model {% endcomment %}
  {% if messages %}
<div id="successModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
    <div class="bg-white rounded-lg shadow-lg p-6 w-80 text-center">
        <h2 class="text-xl font-semibold text-green-600 mb-3 flex">Success <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 mt-1">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z" />
</svg>
</h2>

        {% for message in messages %}
            <p class="text-gray-700 mb-4">{{ message }}</p>
        {% endfor %}

        <button id="closeModal"
            class="mt-2 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">
            Close
        </button>
    </div>
</div>

<script>
    // close button
    document.getElementById("closeModal").onclick = function () {
        document.getElementById("successModal").style.display = "none";
    };

    // click outside to close
    window.onclick = function(e){
        const modal = document.getElementById("successModal");
        if(e.target === modal){
            modal.style.display = "none";
        }
    };
</script>
{% endif %}

{% endblock %}
